# 超级玛丽素材使用指南

## 概述

我们为超级玛丽游戏实现了完整的素材系统，支持PNG格式的角色素材。游戏会自动加载素材，如果没有素材文件，会使用彩色方块作为备用显示。

## 素材系统特性

### 🎨 支持的功能
- **PNG图片加载**：支持透明背景的PNG素材
- **自动缩放**：素材会自动缩放到游戏所需尺寸
- **动画系统**：支持走路、跳跃等动画切换
- **方向翻转**：马里奥会根据移动方向自动翻转
- **备用显示**：没有素材时自动使用彩色方块

### 🎮 支持的角色和物体
- **马里奥**：小马里奥和大马里奥的各种状态
- **敌人**：栗子小子的走路和死亡状态
- **方块**：砖块、问号方块、用过的方块

## 素材文件要求

### 📁 文件夹结构
```
assets/
└── sprites/
    ├── mario_small_idle.png      # 小马里奥静止
    ├── mario_small_walk1.png     # 小马里奥走路帧1
    ├── mario_small_walk2.png     # 小马里奥走路帧2
    ├── mario_small_jump.png      # 小马里奥跳跃
    ├── mario_big_idle.png        # 大马里奥静止
    ├── mario_big_walk1.png       # 大马里奥走路帧1
    ├── mario_big_walk2.png       # 大马里奥走路帧2
    ├── mario_big_jump.png        # 大马里奥跳跃
    ├── goomba_walk1.png          # 栗子小子走路帧1
    ├── goomba_walk2.png          # 栗子小子走路帧2
    ├── goomba_dead.png           # 栗子小子死亡
    ├── block_brick.png           # 砖块
    ├── block_question.png        # 问号方块
    ├── block_used.png            # 用过的方块
    └── background.png            # 背景（可选）
```

### 📏 建议的素材尺寸
- **马里奥**：32x32像素（小马里奥），32x48像素（大马里奥）
- **敌人**：32x32像素
- **方块**：32x32像素
- **格式**：PNG，支持透明背景

## 如何获取素材

### 方法1：在线素材网站
- **OpenGameArt.org**：免费游戏素材网站
- **Itch.io**：很多免费的像素艺术素材包
- **Kenney.nl**：提供大量免费游戏素材

### 方法2：从经典游戏提取
```bash
# 注意：请确保遵守版权法律
# 只用于学习目的，不要用于商业用途
```

### 方法3：自己绘制
- **推荐工具**：Aseprite、Pixilart、GIMP
- **风格**：8位或16位像素艺术风格
- **颜色**：限制调色板以获得复古效果

## 快速开始

### 1. 创建素材文件夹
```bash
mkdir -p assets/sprites
```

### 2. 添加素材文件
将PNG文件放入 `assets/sprites/` 文件夹，使用上述文件名。

### 3. 运行游戏
```bash
./mario_game
```

游戏会自动检测并加载素材。如果某个素材缺失，会显示彩色方块作为备用。

## 素材制作技巧

### 🎨 设计指南
1. **像素完美**：确保素材在原尺寸下清晰
2. **透明背景**：使用PNG的透明度功能
3. **一致风格**：保持所有素材的艺术风格统一
4. **动画连贯**：走路动画的两帧应该连贯

### 📐 技术要求
- **文件格式**：PNG
- **颜色深度**：24位 + Alpha通道
- **压缩**：建议使用无损压缩
- **命名**：必须使用指定的文件名

## 常见问题

### Q: 素材没有显示怎么办？
A: 检查文件名是否正确，路径是否为 `assets/sprites/`，并查看终端输出的加载信息。

### Q: 素材显示模糊怎么办？
A: 确保素材是像素完美的，避免在图像编辑器中使用平滑缩放。

### Q: 可以使用其他格式的图片吗？
A: 目前只支持PNG格式。SDL2_image支持多种格式，但我们推荐PNG。

### Q: 动画速度太快/太慢怎么办？
A: 可以修改 `mario.c` 中的 `mario.anim_timer / 0.2f` 来调整动画速度。

## 高级功能

### 自定义动画
如果你想添加更多动画帧，可以修改 `sprite.h` 和 `sprite.c` 中的枚举和文件名数组。

### 新角色
要添加新的敌人类型，需要：
1. 在 `SpriteID` 枚举中添加新的ID
2. 在文件名数组中添加对应路径
3. 在渲染代码中添加绘制逻辑

### 背景和特效
素材系统支持扩展，可以添加背景层、粒子效果等更复杂的视觉元素。

## 示例素材包

我们提供了一个简单的彩色方块备用系统，即使没有素材也能运行游戏。这让你可以：
- 立即开始游戏开发
- 逐步添加素材
- 专注于游戏逻辑而不是美术

开始你的超级玛丽素材创作之旅吧！ 🎮✨ 